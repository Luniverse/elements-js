/*!
 * Luniverse Elements v2.4
 * ES2017 micro-templating engine
 * Licensed under the MIT license
 * Copyright (c) 2018 Lukas Jans
 * https://github.com/luniverse/elements-js
 */
class Elements{constructor(e,t={}){this.template=e,this.open=this.escape(t.open||Elements.open),this.close=this.escape(t.close||Elements.close),this.days=t.days||Elements.days,this.months=t.months||Elements.months}escape(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}empty(e){return!e||e instanceof Array&&!e.length}zero(e){return e<10?"0"+e:e}clean(e){const t=new RegExp(this.open+"!.+?"+this.close,"g");return e.replace(t,"").replace(/[\r\n\t]/g,"")}static render(e,t){return new Elements(e).render(t)}render(e){const t=this.renderElement(this.template,e);return this.clean(t)}renderSections(e,t){const s=new RegExp(this.open+"(\\^|#)(.+?)"+this.close+"((?:\\s|\\S)+?)"+this.open+"/\\2"+this.close,"g");return e.replace(s,(e,s,r,n)=>{const i=t[r];return"#"!=s||this.empty(i)?"^"==s&&this.empty(i)?this.renderRecursive(n,t):"":this.renderElement(n,i,t)})}renderVariables(e,t,s=""){t instanceof Array&&(t={length:t.length});for(const[r,n]of Object.entries(t))if(n instanceof Object)e=this.renderVariables(e,n,s+r+".");else{const t=new RegExp(this.open+this.escape(s+r)+this.close,"g");e=e.replace(t,n)}return e}renderElement(e,t,s={}){return t instanceof Function?t(e):t instanceof Array?this.renderList(e,t,s):t instanceof Date?this.renderDate(e,t):t instanceof Object?this.renderRecursive(e,Object.assign({".":s},t)):s instanceof Array?this.renderRecursive(e,{".":t}):s instanceof Object?this.renderRecursive(e,Object.assign({},s,{".":t})):void 0}renderRecursive(e,t){return e=this.renderSections(e,t),e=this.renderVariables(e,t)}renderList(e,t,s){return t.map(t=>this.renderElement(e,t,s)).join("")}renderDate(e,t){const s={};return s.j=t.getDate(),s.w=t.getDay(),s.n=t.getMonth()+1,s.F=this.months[t.getMonth()],s.Y=t.getFullYear(),s.G=t.getHours(),s.i=this.zero(t.getMinutes()),s.s=this.zero(t.getSeconds()),s.v=t.getTime(),s.d=this.zero(s.j),s.N=s.w+1,s.l=this.days[s.w],s.m=this.zero(s.n),s.H=this.zero(s.G),s.U=Math.floor(s.v/1e3),s.D=s.l.substr(0,3),s.M=s.F.substr(0,3),this.renderVariables(e,s)}}Elements.open="{{",Elements.close="}}",Elements.days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Elements.months=["January","February","March","April","May","June","July","August","September","October","November","December"];