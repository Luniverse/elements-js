/*!
 * Luniverse Elements v2.9
 * ES2017 micro-templating engine
 * Licensed under the MIT license
 * Copyright (c) 2018 Lukas Jans
 * https://github.com/luniverse/elements-js
 */
class Elements{constructor(e,t={}){this.template=e,this.config=Object.assign({},Elements.config,t)}escape(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}empty(e){return!(e instanceof Function||e instanceof Date)&&(e instanceof Object?0==Object.keys(e).length:!e)}clean(e){const t=new RegExp(this.escape(this.config.open)+"!.+?"+this.escape(this.config.close),"g");return e.replace(t,"").replace(/[\r\n\t]/g,"")}static render(e,t){return new Elements(e).render(t)}render(e){const t=this.renderElement(this.template,e);return this.clean(t)}renderSections(e,t){const n=new RegExp(this.escape(this.config.open)+"(\\^|#)(.+?)"+this.escape(this.config.close)+"((?:\\s|\\S)+?)"+this.escape(this.config.open)+"/\\2"+this.escape(this.config.close),"g");return e.replace(n,(e,n,r,s)=>{const i=t[r];return"#"!=n||this.empty(i)?"^"==n&&this.empty(i)?this.renderRecursive(s,t):"":this.renderElement(s,i,t)})}renderVariables(e,t,n=""){t instanceof Array&&(t={length:t.length});for(const[r,s]of Object.entries(t))if(s instanceof Object)e=this.renderVariables(e,s,n+r+".");else{const t=new RegExp(this.escape(this.config.open+n+r+this.config.close),"g");e=e.replace(t,s)}return e}renderElement(e,t,n={}){return t instanceof Function?t(e):t instanceof Array?this.renderList(e,t):t instanceof Date?this.renderDate(e,t):t instanceof Object?this.renderRecursive(e,t):n instanceof Array?this.renderRecursive(e,{".":t}):n instanceof Object?this.renderRecursive(e,Object.assign({".":t},n)):void 0}renderRecursive(e,t){return e=this.renderVariables(e,t),e=this.renderSections(e,t)}renderList(e,t){return t.map(n=>this.renderElement(e,n,t)).join("")}renderDate(e,t){const n={};return n.j=t.getDate(),n.w=t.getDay(),n.n=t.getMonth()+1,n.F=this.config.months[t.getMonth()],n.Y=t.getFullYear(),n.G=t.getHours(),n.i=t.getMinutes().toString().padStart(2,0),n.s=t.getSeconds().toString().padStart(2,0),n.v=t.getTime(),n.d=n.j.toString().padStart(2,0),n.N=n.w+1,n.l=this.config.days[n.w],n.m=n.n.toString().padStart(2,0),n.H=n.G.toString().padStart(2,0),n.U=Math.floor(n.v/1e3),n.D=n.l.substr(0,this.config.D),n.M=n.F.substr(0,this.config.M),this.renderVariables(e,n)}}Elements.config={D:3,M:3,open:"{{",close:"}}",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]};